{
    "level_id": 21,
    "name": "MIPS Processor Example",
    "description": "In the last Level of the Game you don't have to do anything, this is more to show you an example of how a complete Processor could look like. Note that the Control Unit here only handles a few instructions (lw, sw, beq and r-type), you could extend it to handle more instructions as an additional challenge. To demonstrate how this processor works, a small program has already been loaded into the instruction memory: 000000(op-code) 00010(rs) 00011(rt) 00001(rd) 00000(shamt) 100000(funct) = 4392992. This game is not focused on the assembly language, so we will not discuss why this specific bit pattern represents the instruction. However, the instruction performs the following operation: it takes the contents of register 1, adds them to the contents of register 2, and stores the result in register 3. By pressing Start, you can observe how the processor executes this instruction.",
    "difficulty": "Easy",
    "objectives": [
        "Understand how this processor functions as a whole."
    ],

    
    "components": [
        {"type": "ProgramCounter", "position": [1,12], "immovable": false, "label": "PC"},
        {"type": "InstructionMemory", "position": [3,12], "immovable": false, "label": "IM"},
        {"type": "Adder32bit", "position": [3,2], "immovable": false, "label": "Add4"},
        {"type": "Input", "position": [1,3], "immovable": false, "label": "4", "initialBitWidth": 32, "initialValue": 4},
        {"type": "Splitter32to8", "position": [4,12], "immovable": false, "label": "Splitter -> 8bit"},
        {"type": "Splitter8to1", "position": [6,14], "immovable": false, "label": "SPLa"},
        {"type": "Splitter8to1", "position": [6,12], "immovable": false, "label": "SPLb"},
        {"type": "Splitter8to1", "position": [6,9], "immovable": false, "label": "SPLc"},
        {"type": "RegisterBlock", "position": [16,11], "immovable": false, "label": "Registers", "initialValue": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},
        {"type": "Collector1to5", "position": [9,10], "immovable": false, "label": "COLa"},
        {"type": "Collector1to5", "position": [9,11], "immovable": false, "label": "COLb"},
        {"type": "Collector1to5", "position": [9,13], "immovable": false, "label": "COLc"},
        {"type": "Multiplexer2Inp", "position": [12,12], "immovable": false, "label": "MUXa"},
        {"type": "ALUAdvanced", "position": [22,10], "immovable": false, "label": "ALU"},
        {"type": "Multiplexer2Inp", "position": [21,12], "immovable": false, "label": "MUXb"},
        {"type": "Collector8to16", "position": [12,19], "immovable": false, "label": "COL -> 16bit"},
        {"type": "SignExtend", "position": [14,14], "immovable": false, "label": "SignExtend"},
        {"type": "DataMemory", "position": [26,11], "immovable": false, "label": "DataMemory"},
        {"type": "Multiplexer2Inp", "position": [29,10], "immovable": false, "label": "MUXc"},
        {"type": "Adder32bit", "position": [17,2], "immovable": false, "label": "AdderBEQ"},
        {"type": "Collector1to6", "position": [10,16], "immovable": false, "label": "COL6a"},
        {"type": "ControlUnit", "position": [12,6], "immovable": false, "label": "ControlUnit"},
        {"type": "Multiplexer2Inp", "position": [21,1], "immovable": false, "label": "MUXd"},
        {"type": "And", "position": [20,4], "immovable": false, "label": "And"},
        {"type": "ALUControl", "position": [19,13], "immovable": false, "label": "ALUControl"},
        {"type": "Splitter8to1", "position": [6,7], "immovable": false, "label": "SPLd"},
        {"type": "Collector1to6", "position": [17,8], "immovable": false, "label": "COL6b"},
        {"type": "ShiftLeft2", "position": [16,3], "immovable": false, "label": "<<2"}
        

    ],
     "connections": [
        
        {
            "origin": 27,
            "originKey": "outValue",
            "destination": 19,
            "destinationKey": "inputB"
        },
        {
            "origin": 22,
            "originKey": "outputValue",
            "destination": 0,
            "destinationKey": "input"
        },
        {
            "origin": 0,
            "originKey": "outValue",
            "destination": 1,
            "destinationKey": "readAddress"
        },
        {
            "origin": 3,
            "originKey": "outValue",
            "destination": 2,
            "destinationKey": "inputA"
        },
        {
            "origin": 0,
            "originKey": "outValue",
            "destination": 2,
            "destinationKey": "inputB"
        },
        {
            "origin": 1,
            "originKey": "instruction",
            "destination": 4,
            "destinationKey": "input1"
        },
        {
            "origin": 4,
            "originKey": "outValue4",
            "destination": 5,
            "destinationKey": "input1"
        },
        {
            "origin": 4,
            "originKey": "outValue3",
            "destination": 6,
            "destinationKey": "input1"
        },
        {
            "origin": 4,
            "originKey": "outValue2",
            "destination": 7,
            "destinationKey": "input1"
        },
        {
            "origin": 11,
            "originKey": "outValue",
            "destination": 8,
            "destinationKey": "readReg1"
        },
        {
            "origin": 10,
            "originKey": "outValue",
            "destination": 8,
            "destinationKey": "readReg2"
        },
        
        {
            "origin": 18,
            "originKey": "outputValue",
            "destination": 8,
            "destinationKey": "writeData"
        },
        {
            "origin": 21,
            "originKey": "RegWrite",
            "destination": 8,
            "destinationKey": "regWrite"
        },
        {
            "origin": 7,
            "originKey": "outValue128",
            "destination": 9,
            "destinationKey": "input16"
        },
        {
            "origin": 7,
            "originKey": "outValue64",
            "destination": 9,
            "destinationKey": "input8"
        },
        {
            "origin": 7,
            "originKey": "outValue32",
            "destination": 9,
            "destinationKey": "input4"
        },
        {
            "origin": 7,
            "originKey": "outValue16",
            "destination": 9,
            "destinationKey": "input2"
        },
        {
            "origin": 7,
            "originKey": "outValue8",
            "destination": 9,
            "destinationKey": "input1"
        },
        {
            "origin": 6,
            "originKey": "outValue16",
            "destination": 10,
            "destinationKey": "input16"
        },
        {
            "origin": 6,
            "originKey": "outValue8",
            "destination": 10,
            "destinationKey": "input8"
        },
        {
            "origin": 6,
            "originKey": "outValue4",
            "destination": 10,
            "destinationKey": "input4"
        },
        {
            "origin": 6,
            "originKey": "outValue2",
            "destination": 10,
            "destinationKey": "input2"
        },
        {
            "origin": 6,
            "originKey": "outValue1",
            "destination": 10,
            "destinationKey": "input1"
        },
        {
            "origin": 5,
            "originKey": "outValue2",
            "destination": 11,
            "destinationKey": "input16"
        },
        {
            "origin": 5,
            "originKey": "outValue1",
            "destination": 11,
            "destinationKey": "input8"
        },
        {
            "origin": 6,
            "originKey": "outValue128",
            "destination": 11,
            "destinationKey": "input4"
        },
        {
            "origin": 6,
            "originKey": "outValue64",
            "destination": 11,
            "destinationKey": "input2"
        },
        {
            "origin": 6,
            "originKey": "outValue32",
            "destination": 11,
            "destinationKey": "input1"
        },
        {
            "origin": 21,
            "originKey": "RegDst",
            "destination": 12,
            "destinationKey": "selection"
        },
        {
            "origin": 10,
            "originKey": "outValue",
            "destination": 12,
            "destinationKey": "input1"
        },
        {
            "origin": 9,
            "originKey": "outValue",
            "destination": 12,
            "destinationKey": "input2"
        },
        {
            "origin": 8,
            "originKey": "readData1",
            "destination": 13,
            "destinationKey": "input1"
        },
        
        {
            "origin": 21,
            "originKey": "AluSrc",
            "destination": 14,
            "destinationKey": "selection"
        },
        {
            "origin": 8,
            "originKey": "readData2",
            "destination": 14,
            "destinationKey": "input1"
        },
        {
            "origin": 16,
            "originKey": "outValue",
            "destination": 14,
            "destinationKey": "input2"
        },
        {
            "origin": 4,
            "originKey": "outValue2",
            "destination": 15,
            "destinationKey": "input2"
        },
        {
            "origin": 4,
            "originKey": "outValue1",
            "destination": 15,
            "destinationKey": "input1"
        },
        {
            "origin": 15,
            "originKey": "outValue",
            "destination": 16,
            "destinationKey": "input1"
        },
        {
            "origin": 13,
            "originKey": "outValue",
            "destination": 17,
            "destinationKey": "address"
        },
        {
            "origin": 8,
            "originKey": "readData2",
            "destination": 17,
            "destinationKey": "writeData"
        },
        {
            "origin": 21,
            "originKey": "MemWrite",
            "destination": 17,
            "destinationKey": "memWrite"
        },
        {
            "origin": 21,
            "originKey": "MemRead",
            "destination": 17,
            "destinationKey": "memRead"
        },
        {
            "origin": 21,
            "originKey": "MemtoReg",
            "destination": 18,
            "destinationKey": "selection"
        },
        {
            "origin": 17,
            "originKey": "readData",
            "destination": 18,
            "destinationKey": "input1"
        },
        {
            "origin": 13,
            "originKey": "outValue",
            "destination": 18,
            "destinationKey": "input2"
        },
        {
            "origin": 2,
            "originKey": "outSum",
            "destination": 19,
            "destinationKey": "inputA"
        },
        {
            "origin": 5,
            "originKey": "outValue128",
            "destination": 20,
            "destinationKey": "input32"
        },
        {
            "origin": 5,
            "originKey": "outValue64",
            "destination": 20,
            "destinationKey": "input16"
        },
        {
            "origin": 5,
            "originKey": "outValue32",
            "destination": 20,
            "destinationKey": "input8"
        },
        {
            "origin": 5,
            "originKey": "outValue16",
            "destination": 20,
            "destinationKey": "input4"
        },
        {
            "origin": 5,
            "originKey": "outValue8",
            "destination": 20,
            "destinationKey": "input2"
        },
        {
            "origin": 5,
            "originKey": "outValue4",
            "destination": 20,
            "destinationKey": "input1"
        },
        {
            "origin": 23,
            "originKey": "outValue",
            "destination": 22,
            "destinationKey": "selection"
        },
        {
            "origin": 2,
            "originKey": "outSum",
            "destination": 22,
            "destinationKey": "input1"
        },
        {
            "origin": 19,
            "originKey": "outSum",
            "destination": 22,
            "destinationKey": "input2"
        },
        {
            "origin": 21,
            "originKey": "Branch",
            "destination": 23,
            "destinationKey": "input1"
        },
        {
            "origin": 13,
            "originKey": "zero",
            "destination": 23,
            "destinationKey": "input2"
        },
        {
            "origin": 21,
            "originKey": "AluOp",
            "destination": 24,
            "destinationKey": "ALUop"
        },
        {
            "origin": 26,
            "originKey": "outValue",
            "destination": 24,
            "destinationKey": "funct"
        },
        {
            "origin": 4,
            "originKey": "outValue1",
            "destination": 25,
            "destinationKey": "input1"
        },
        {
            "origin": 25,
            "originKey": "outValue32",
            "destination": 26,
            "destinationKey": "input32"
        },
        {
            "origin": 25,
            "originKey": "outValue16",
            "destination": 26,
            "destinationKey": "input16"
        },
        {
            "origin": 25,
            "originKey": "outValue8",
            "destination": 26,
            "destinationKey": "input8"
        },
        {
            "origin": 25,
            "originKey": "outValue4",
            "destination": 26,
            "destinationKey": "input4"
        },
        {
            "origin": 25,
            "originKey": "outValue2",
            "destination": 26,
            "destinationKey": "input2"
        },
        {
            "origin": 25,
            "originKey": "outValue1",
            "destination": 26,
            "destinationKey": "input1"
        },
        {
            "origin": 16,
            "originKey": "outValue",
            "destination": 27,
            "destinationKey": "input1"
        },
        {
            "origin": 27,
            "originKey": "outValue",
            "destination": 19,
            "destinationKey": "inputB"
        },
        {
            "origin": 18,
            "originKey": "outputValue",
            "destination": 8,
            "destinationKey": "writeData"
        },
        {
            "origin": 12,
            "originKey": "outputValue",
            "destination": 8,
            "destinationKey": "writeReg"
        },
        {
            "origin": 20,
            "originKey": "outValue",
            "destination": 21,
            "destinationKey": "input"
        },
        {
            "origin": 24,
            "originKey": "ainvert",
            "destination": 13,
            "destinationKey": "Ainvert"
        },
        {
            "origin": 24,
            "originKey": "binvert",
            "destination": 13,
            "destinationKey": "Bnegate"
        },
        {
            "origin": 24,
            "originKey": "operation",
            "destination": 13,
            "destinationKey": "OP"
        },
        {
            "origin": 22,
            "originKey": "outputValue",
            "destination": 0,
            "destinationKey": "input"
        },
        {
            "origin": 14,
            "originKey": "outputValue",
            "destination": 13,
            "destinationKey": "input2"
        }
    ],
   "memoryContents": {
        "comment": "0,1,0,2,3,4,8 make limited sense but it's needed to show some instructions being executed.",
        "instructionMemory": [
            4392992,0,4392992,1,4392992,0,4392992,2,4392992,3,4392992,4,4392992,8,4392992
        ],
        "dataMemory": [
            123,543,23,76,234,87,345,23,78,90,1234,5678,91011,1213,1415,1617
        ]
    },
    "available_components": [
    ],
    "hints": [    ]
}
