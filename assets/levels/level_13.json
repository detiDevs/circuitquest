{
  "level_id": 13,
  "name": "Subtraction with a Full Adder",
  "description": "Binary subtraction can be done without building a separate subtractor.\nInstead, CPUs reuse the Full-Adder by converting: A − B ➜ A + (NOT B) + 1\nThis is called two’s complement subtraction.\nYou will invert B and set the carry-in to 1 to subtract",
  "difficulty": "Medium",
  "objectives": ["Create a circuit that computes A-B"],
  "components": [
    {"type": "Input", "position": [0,1], "immovable": true, "label": "A"},
    {"type": "Input", "position": [0,3], "immovable": true, "label": "B"},
    {"type": "Input", "position": [0,5], "immovable": true, "label": "CarryIn"},
    {"type": "Output", "position":  [4, 2], "immovable":  true, "label":  "Difference"},
    {"type": "Output", "position":  [4, 4], "immovable":  true, "label":  "CarryOut"}
  ],
  "available_components": [
    {"type":  "FullAdder"},
    {"type": "Not"}
  ],
  "hints": [
    "Subtraction A - B is the same as A + (-B) in two's complement",
    "To get -B (negative B), invert all bits of B and add 1",
    "Use a NOT gate to invert B before feeding it to the Full Adder",
    "Setting CarryIn to 1 adds the '+1' needed for two's complement",
    "Connect A directly, NOT(B) as the second input, and set CarryIn=1"
  ],
  "solution": "",
  "tests": [
      {"inputs": [[0,1],[0,1],[0,1]], "expected_output": [[1,1],[0,1]]},
      {"inputs": [[0,1],[0,1],[1,1]], "expected_output": [[0,1],[1,1]]},
      {"inputs": [[0,1],[1,1],[0,1]], "expected_output": [[0,1],[0,1]]},
      {"inputs": [[0,1],[1,1],[1,1]], "expected_output": [[1,1],[0,1]]},
      {"inputs": [[1,1],[0,1],[0,1]], "expected_output": [[0,1],[1,1]]},
      {"inputs": [[1,1],[0,1],[1,1]], "expected_output": [[1,1],[1,1]]},
      {"inputs": [[1,1],[1,1],[0,1]], "expected_output": [[1,1],[0,1]]},
      {"inputs": [[1,1],[1,1],[1,1]], "expected_output": [[0,1],[1,1]]}
  ]
}