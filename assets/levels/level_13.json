{
    "level_id": 13,
    "name": "Subtraction with a Full Adder",
    "description": "Binary subtraction can be done without building a separate subtractor.\nInstead, CPUs reuse the Full-Adder by converting: A − B ➜ A + (NOT B) + 1\nThis is called two’s complement subtraction.\nYou will invert B and set the carry-in to 1 to subtract",
    "difficulty": "Medium",
    "objectives": [
        "Create a circuit that computes A-B"
    ],
    "components": [
        {
            "type": "Input",
            "position": [
                0,
                1
            ],
            "immovable": true,
            "label": "A"
        },
        {
            "type": "Input",
            "position": [
                0,
                3
            ],
            "immovable": true,
            "label": "B"
        },
        {
            "type": "Input",
            "position": [
                0,
                5
            ],
            "immovable": true,
            "label": "CarryIn"
        },
        {
            "type": "Output",
            "position": [
                4,
                2
            ],
            "immovable": true,
            "label": "Difference"
        },
        {
            "type": "Output",
            "position": [
                4,
                4
            ],
            "immovable": true,
            "label": "CarryOut"
        }
    ],
    "available_components": [
        {
            "type": "FullAdder"
        },
        {
            "type": "Not"
        }
    ],
    "hints": [
        "Subtraction A - B is the same as A + (-B) in two's complement",
        "To get -B (negative B), invert all bits of B and add 1",
        "Use a NOT gate to invert B before feeding it to the Full Adder",
        "Setting CarryIn to 1 adds the '+1' needed for two's complement",
        "Connect A directly, NOT(B) as the second input, and set CarryIn=1"
    ],
    "solution": "",
    "tests": [
        {
            "inputs": [
                [
                    0,
                    1
                ],
                [
                    0,
                    1
                ],
                [
                    0,
                    1
                ]
            ],
            "expected_output": [
                [
                    1,
                    1
                ],
                [
                    0,
                    1
                ]
            ]
        },
        {
            "inputs": [
                [
                    0,
                    1
                ],
                [
                    0,
                    1
                ],
                [
                    1,
                    1
                ]
            ],
            "expected_output": [
                [
                    0,
                    1
                ],
                [
                    1,
                    1
                ]
            ]
        },
        {
            "inputs": [
                [
                    0,
                    1
                ],
                [
                    1,
                    1
                ],
                [
                    0,
                    1
                ]
            ],
            "expected_output": [
                [
                    0,
                    1
                ],
                [
                    0,
                    1
                ]
            ]
        },
        {
            "inputs": [
                [
                    0,
                    1
                ],
                [
                    1,
                    1
                ],
                [
                    1,
                    1
                ]
            ],
            "expected_output": [
                [
                    1,
                    1
                ],
                [
                    0,
                    1
                ]
            ]
        },
        {
            "inputs": [
                [
                    1,
                    1
                ],
                [
                    0,
                    1
                ],
                [
                    0,
                    1
                ]
            ],
            "expected_output": [
                [
                    0,
                    1
                ],
                [
                    1,
                    1
                ]
            ]
        },
        {
            "inputs": [
                [
                    1,
                    1
                ],
                [
                    0,
                    1
                ],
                [
                    1,
                    1
                ]
            ],
            "expected_output": [
                [
                    1,
                    1
                ],
                [
                    1,
                    1
                ]
            ]
        },
        {
            "inputs": [
                [
                    1,
                    1
                ],
                [
                    1,
                    1
                ],
                [
                    0,
                    1
                ]
            ],
            "expected_output": [
                [
                    1,
                    1
                ],
                [
                    0,
                    1
                ]
            ]
        },
        {
            "inputs": [
                [
                    1,
                    1
                ],
                [
                    1,
                    1
                ],
                [
                    1,
                    1
                ]
            ],
            "expected_output": [
                [
                    0,
                    1
                ],
                [
                    1,
                    1
                ]
            ]
        }
    ],
    "name_de": "Subtraktion mit einem Volladdierer",
    "description_de": "Binärsubtraktion kann ohne einen separaten Subtrahierer durchgeführt werden.\nStattdessen verwenden CPUs den Volladdierer wieder durch Konvertierung: A − B ↦ A + (NOT B) + 1\nDies heißt Zweierkomplement-Subtraktion.\nDu invertierst B und stellst den Carry-in auf 1, um zu subtrahieren",
    "difficulty_de": "Mittel",
    "objectives_de": [
        "Erstelle eine Schaltung, die A-B berechnet"
    ],
    "hints_de": [
        "Subtraktion A - B ist das gleiche wie A + (-B) im Zweierkomplement",
        "Um -B (negatives B) zu erhalten, invertiere alle Bits von B und addiere 1",
        "Verwende ein NICHT-Gatter, um B zu invertieren, bevor du es in den Volladdierer speist",
        "Das Setzen von CarryIn auf 1 addiert die '+1' für Zweierkomplement",
        "Verbinde A direkt, NOT(B) als zweiten Eingang und setze CarryIn=1"
    ]
}