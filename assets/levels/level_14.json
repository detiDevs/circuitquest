{
    "level_id": 14,
    "name": "1bit ALU",
    "description": "Weâ€™re now in the process of putting together a processor. The actual computation happens in the Arithmetic-Logical-Unit (ALU). In this level we'll build a simple 1-bit ALU that can compute A AND B, A OR B, or A + B (sum bit). A 2-bit control signal `op` selects the operation. Later we want to expand the ALU to more bits, so our adder needs to have a carry in and a carry out. For now use a seperate \"dummy\" input as a carry in tied to 0, and connect the carry out to the labeled output.",
    "difficulty": "Medium",
    "objectives": [
        "Build a 1-bit ALU with inputs A and B and a 2-bit operation code `op` (op1,op0).",
        "Output should be:\n- AND when op = 00\n- OR when op = 01\n- Sum (A + B, sum bit) when op = 10"
    ],
    "components": [
        {"type": "Input", "position": [12,11], "immovable": true, "label": "op0"},
        {"type": "Input", "position": [12,10], "immovable": true, "label": "op1"},
        {"type": "Collector1to2", "position": [13,10], "immovable": true},
        {"type": "Input", "position": [0,5], "immovable": true, "label": "A"},
        {"type": "Input", "position": [0,7], "immovable": true, "label": "B"},
        {"type": "Input", "position": [6,11], "immovable": true, "label": "carry_in"},
        {"type": "Output", "position": [16,5], "immovable": true, "label": "OUT"},
        {"type": "Output", "position": [16,3], "immovable": true, "label": "Carry_out"}
    ],

    "available_components": [
        {"type": "And"},
        {"type": "Or"},
        {"type": "FullAdder"},
        {"type": "Multiplexer4Inp"}
    ],

       "connections": [
        {"origin": 0, "originKey": "outValue", "destination": 2, "destinationKey": "input2"},
        {"origin": 1, "originKey": "outValue", "destination": 2, "destinationKey": "input1"}
    ],

    "hints": [
        "Create three candidate signals: A AND B, A OR B, and the sum bit from a FullAdder (ignore carry). Feed these as three data inputs to the MUX.",
        "Map the MUX data inputs so that selector 00 -> AND, 01 -> OR, 10 -> SUM. The unused selector (11) can be tied to 0 or any value (tests do not use it)."
    ],

    "solution": "",

    "tests": [
        
        {"inputs": [[0,1],[0,1],[0,1],[0,1],[0,1]], "expected_output": [[0,1],[0,1]]},
        {"inputs": [[0,1],[0,1],[0,1],[1,1],[0,1]], "expected_output": [[0,1],[0,1]]},
        {"inputs": [[0,1],[0,1],[1,1],[0,1],[0,1]], "expected_output": [[0,1],[0,1]]},
        {"inputs": [[0,1],[0,1],[1,1],[1,1],[0,1]], "expected_output": [[1,1],[1,1]]},
        
        {"inputs": [[0,1],[1,1],[0,1],[0,1],[0,1]], "expected_output": [[0,1],[0,1]]},
        {"inputs": [[0,1],[1,1],[0,1],[1,1],[0,1]], "expected_output": [[1,1],[0,1]]},
        {"inputs": [[0,1],[1,1],[1,1],[0,1],[0,1]], "expected_output": [[1,1],[0,1]]},
        {"inputs": [[0,1],[1,1],[1,1],[1,1],[0,1]], "expected_output": [[1,1],[1,1]]},
        
        {"inputs": [[1,1],[0,1],[0,1],[0,1],[0,1]], "expected_output": [[0,1],[0,1]]},
        {"inputs": [[1,1],[0,1],[0,1],[1,1],[0,1]], "expected_output": [[1,1],[0,1]]},
        {"inputs": [[1,1],[0,1],[1,1],[0,1],[0,1]], "expected_output": [[1,1],[0,1]]},
        {"inputs": [[1,1],[0,1],[1,1],[1,1],[0,1]], "expected_output": [[0,1],[1,1]]},
        {"inputs": [[1,1],[0,1],[1,1],[1,1],[1,1]], "expected_output": [[1,1],[1,1]]}
    ]
}
